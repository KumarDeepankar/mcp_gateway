# Ngrok configuration for MCP Gateway
version: "2"

# Authentication token (will be set via environment variable)
authtoken: 32gC2d7iMt7zpEQgXLbwnyCnU6q_7ZvTLVs7RELZGG1E7WYDv

# Web interface configuration
web_addr: 0.0.0.0:4040

# Tunnels configuration
# NOTE: Free ngrok accounts support max 3 tunnels
# mcp-opensearch is commented out by default (4th service)
# Uncomment and comment another if you need it

tunnels:
  mcp-server:
    proto: http
    addr: mcp-server:8000
    schemes: [https]
    inspect: true

  mcp-opensearch:
    proto: http
    addr: mcp-opensearch:8001
    schemes: [https]
    inspect: true

  mcp-registry:
    proto: http
    addr: tools-gateway:8021
    schemes: [https]
    inspect: true

  # agentic-search:  # Disabled - Free tier allows only 3 tunnels
  #   proto: http
  #   addr: agentic-search:8023
  #   schemes: [https]
  #   inspect: true

# Global tunnel options
update_channel: stable
console_ui: true
log_level: info
log_format: term